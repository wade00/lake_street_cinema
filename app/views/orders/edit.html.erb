<div class="container">
  <div class="row">
    <div class="col-xs-12">
      <h3>Please review your order before purchasing:</h3>
    </div>
  </div>

  <hr />

  <%= render 'order_summary', order: @order, movie: @movie %>

  <div class="row">
    <div class="col-md-6 col-md-offset-3 col-xs-12">
      <div class="text-center">
        <h4>Please enter your email and credit card info for billing:</h4>
      </div>

      <%= form_for @order do |f| %>
        <% if @order.errors.any? %>
          <%= render "shared/errors", resource: @order %>
        <% end %>

        <div class="form-group">
          <%= f.label :email, class: "control-label" %>
          <%= f.email_field :email, class: "form-control" %>
        </div>

        <div class="form-group">
          <%= f.label :credit_card, "Credit Card", class: "control-label" %>
          <%= f.text_field :credit_card, class: "form-control" %>
        </div>

        <div class="form-group row">
          <div class="col-xs-12">
            <%= f.label :card_expiration_month, "Expiration Date", class: "control-label" %>
          </div>
          <div class="col-xs-6">
            <%= f.select :card_expiration_month,
                         ["01", "02", "03", "04", "05", "06", "07", "08", "09", "10", "11", "12"],
                         { prompt: "Select a month..." }, class: "form-control" %>
           </div>

          <div class="col-xs-6">
            <%= f.select :card_expiration_year, [], { prompt: "Select a year..." }, { class: "form-control" } do %>
              <% 10.times do |n| %>
                <%= content_tag(:option, (Time.now.year + 1) + n) %>
              <% end %>
            <% end %>
          </div>
        </div>

        <div class="form-group">
          <%= f.label :street_address, "Street Address", class: "control-label" %>
          <%= f.text_field :street_address, class: "form-control" %>
        </div>

        <div class="form-group">
          <%= f.label :city, class: "control-label" %>
          <%= f.text_field :city, class: "form-control" %>
        </div>

        <div class="form-group">
          <%= f.label :state, class: "control-label" %>
          <%= f.text_field :state, class: "form-control" %>
        </div>

        <div class="form-group">
          <%= f.label :zip_code, "Zip Code", class: "control-label" %>
          <%= f.text_field :zip_code, class: "form-control" %>
        </div>

        <div class="form-group">
          <%= f.label :country, class: "control-label" %>
          <%= f.text_field :country, class: "form-control" %>
        </div>

        <div class="form-group">
          <%= f.submit "Place Order", class: "btn btn-primary" %>
          or
          <%= link_to "Cancel order", @order, method: :delete,
                      data: { confirm: 'Are you sure you want to cancel this order?' } %>
        </div>
      <% end %>
    </div>
  </div>
</div>
